## PB033 --- CYCLES V3 - SKIP BUFFER

| cycles | size | activity |
| ------ | ---- | -------- |
| 665 | 145 | 43 |
<hr>
<br>

**XA**

```
GRAB 300
LINK 800
LINK 801
COPY F T ; SOURCE
COPY F X ; TARGET


; READING ADRESSES
REPL SCAN
WIPE
MAKE

; COPY SOURCES
@REP 10
COPY M F
@END
COPY T X ; FOR REPL
REPL SCAN

; COPY DESTINATIONS
@REP 10
COPY M F
@END


; DATA READY, LET'S GO
SEEK -10
LINK -1
MARK BROADCAST
COPY F X ; SRC
REPL DNA_READER
SEEK -11
SWIZ X 3 M
SWIZ X 2 M
SWIZ X 1 M
; START BUFFER
COPY F M ; DEST
SEEK -1
COPY F M ; DEST WR/BUFF
SEEK 10
; WAIT FOR UNBLOCK
MODE
VOID M ; LOCAL
MODE
JUMP BROADCAST


MARK DNA_READER
;LINK -1
ADDI M 800 T
LINK T
ADDI M 200 T
GRAB T
MULI M 10 T
SEEK T

;IF ABS < 10, SAME FILE
SUBI X M X
TEST X > -10
FJMP SKIP_BUFFER
TEST X < 10
FJMP SKIP_BUFFER

;SAME FILE, NEED BUFFER
REPL BUFFER
JUMP COPY_F_M_10

;NOT SAME FILE
MARK SKIP_BUFFER
COPY M X ; DEST
REPL DNA_WRITER
SWIZ X 3 M
SWIZ X 2 M
SWIZ X 1 M

JUMP COPY_F_M_10


MARK BUFFER
;GET DEST FROM BROADCAST
COPY M X
;BUFFERING
MAKE
@REP 10
COPY M F
@END
;SPAWN WRITER
SEEK -9999
REPL DNA_WRITER_BUFFER
;SEND DESTINATION
SWIZ X 2 M
SWIZ X 1 M
;SEND BUFFER
@REP 10
COPY F M
@END
WIPE
HALT


MARK DNA_WRITER
LINK -1
ADDI M 800 T
LINK T
MARK DNA_WRITER_BUFFER
ADDI M 200 T
GRAB T
MULI M 10 T
SEEK T
@REP 10
COPY M F
@END
;GO UNBLOCK ORIGINAL BOT
DROP
MODE
LINK -1
COPY -1 M
NOOP
NOOP
NOOP
GRAB 400
WIPE
HALT


;READING ADRESSES
MARK SCAN
GRAB 200
MARK LOOP_PRES
TEST X = F
TJMP COPY_F_M_10
SEEK 10
JUMP LOOP_PRES
MARK COPY_F_M_10
@REP 10
COPY F M
@END
WIPE
```
