## PB028 --- V4 - CRYPT WHILE READING

| cycles | size | activity |
| ------ | ---- | -------- |
| 426 | 77 | 7 |
<hr>
<br>

**SA**

```
GRAB 301
LINK 800
LINK 799

REPL AZIM
REPL ELEV
NOOP
NOOP
NOOP


;MARK FREQ
COPY M #FREQ
;GRAB 301
SEEK 1
MARK LOOP_WRITE_FILE
TEST EOF
TJMP EOF
COPY 0 M
ADDI F M X
TEST X > 0
TJMP OVERWRITE
ADDI X 9999 X
MARK OVERWRITE
SUBI X T X
SEEK -1
COPY X F
JUMP LOOP_WRITE_FILE
MARK EOF
COPY -1 M
SEEK -9999
JUMP PING_2


MARK AZIM
COPY M X
LINK 800
MARK LOOP_AZIM
SUBI X #AZIM T
COPY T #MOTR
TJMP LOOP_AZIM
JUMP END_LOOP_AZIM_ELEV
MARK ELEV
COPY M X
LINK 801
MARK LOOP_ELEV
SUBI X #ELEV T
COPY T #MOTR
TJMP LOOP_ELEV
;JUMP END_LOOP_AZIM_ELEV
MARK END_LOOP_AZIM_ELEV
MODE
LINK -1
COPY 1 M
HALT


MARK PING_2
MODE
VOID M
SEEK 1
VOID M


MARK SPLIT_WRITE_DATA
COPY F #DATA
TEST EOF
FJMP SPLIT_WRITE_DATA
WIPE
```

<br>

**MO**

```
GRAB 300

@REP 3
SEEK 1
COPY F M
@END

WIPE


MARK SPLIT_READ_CRYPT
LINK 800
GRAB 199
MARK SEND_CRYPT_LOOP
COPY M T
TJMP HALT
SUBI F 9999 M
TEST EOF
FJMP SEND_CRYPT_LOOP
SEEK -9999
JUMP SEND_CRYPT_LOOP

MARK HALT
```
